dist: xenial

branches:
  include: master

matrix:
  include:
    - language: java
      jdk: openjdk8
      install:
        - mvn -N io.takari:maven:wrapper -Dmaven=3.6.3
        - ./mvnw --show-version --errors --batch-mode test-compile dependency:go-offline
      script:
        - ./mvnw clean install
      before_script:
        - cd ./pharmacy/

    - language: node_js
      node_js: stable
      install:
        - npm install
      before_install:
        - cd ./pharmacy-frontend/
      script:
        - npm run build